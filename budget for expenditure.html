<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中药厂项目建设费用预算图表</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(120deg, #2c7a5a, #1a5632);
            color: white;
            padding: 30px 40px;
            text-align: center;
            position: relative;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .project-info {
            display: flex;
            justify-content: space-around;
            background: #e8f5e9;
            padding: 20px;
            font-size: 1rem;
            border-bottom: 1px solid #c8e6c9;
            flex-wrap: wrap;
        }
        
        .info-item {
            text-align: center;
            padding: 8px 15px;
            min-width: 200px;
        }
        
        .info-item strong {
            color: #2c7a5a;
            font-size: 1.2rem;
            display: block;
            margin-bottom: 5px;
        }
        
        .content-wrapper {
            display: flex;
            flex-wrap: wrap;
            padding: 25px;
            gap: 25px;
        }
        
        .chart-container {
            flex: 1;
            min-width: 400px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .chart-header h2 {
            color: #2c7a5a;
            font-size: 1.8rem;
        }
        
        .chart-wrapper {
            height: 350px;
            position: relative;
        }
        
        .summary-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            flex: 1;
            min-width: 250px;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            border-left: 5px solid #2c7a5a;
        }
        
        .card h3 {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .card h3 i {
            margin-right: 10px;
            color: #2c7a5a;
        }
        
        .card .value {
            font-size: 2.2rem;
            font-weight: 700;
            color: #2c7a5a;
            text-align: right;
        }
        
        .card .sub-value {
            font-size: 1rem;
            color: #888;
            text-align: right;
            margin-top: 5px;
        }
        
        .budget-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .budget-table th {
            background: #2c7a5a;
            color: white;
            text-align: left;
            padding: 15px;
            font-weight: 600;
        }
        
        .budget-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .budget-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .budget-table .category {
            font-weight: 600;
            color: #2c7a5a;
        }
        
        .budget-table .sub-category {
            padding-left: 30px;
            color: #555;
        }
        
        .budget-table .amount {
            text-align: right;
            font-weight: 600;
            color: #333;
        }
        
        .budget-table .percent {
            text-align: right;
            color: #666;
            width: 100px;
        }
        
        .progress-cell {
            width: 200px;
        }
        
        .progress-container {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            border-radius: 5px;
        }
        
        .notes {
            background: #fff8e1;
            border-radius: 10px;
            padding: 25px;
            margin-top: 30px;
            border-left: 5px solid #ff9800;
        }
        
        .notes h3 {
            color: #ff8f00;
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }
        
        .notes h3 i {
            margin-right: 10px;
        }
        
        .notes ul {
            padding-left: 25px;
            margin-top: 15px;
        }
        
        .notes li {
            margin-bottom: 12px;
            line-height: 1.6;
        }
        
        .notes li strong {
            color: #e65100;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            color: #666;
            font-size: 1rem;
            background: #f5f5f5;
            border-top: 1px solid #eee;
        }
        
        @media (max-width: 1100px) {
            .content-wrapper {
                flex-direction: column;
            }
        }
        
        @media (max-width: 600px) {
            header {
                padding: 20px 15px;
            }
            h1 {
                font-size: 2rem;
            }
            .subtitle {
                font-size: 1rem;
            }
            .project-info {
                flex-direction: column;
                align-items: center;
            }
            .info-item {
                margin-bottom: 10px;
            }
            .chart-container {
                min-width: 100%;
            }
            .budget-table {
                font-size: 0.9rem;
            }
            .budget-table th, .budget-table td {
                padding: 8px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-money-bill-wave"></i> 中药厂项目建设费用预算图表</h1>
            <p class="subtitle">香港济岁堂中药厂有限公司 - 厂房购买、装修到GMP认证全流程费用规划</p>
        </header>
        
        <div class="project-info">
            <div class="info-item">
                <strong>项目总预算</strong>
                ¥15,800,000
            </div>
            <div class="info-item">
                <strong>最大单项支出</strong>
                厂房购置 (¥8,200,000)
            </div>
            <div class="info-item">
                <strong>预备费用</strong>
                ¥1,200,000
            </div>
            <div class="info-item">
                <strong>认证费用</strong>
                ¥800,000
            </div>
        </div>
        
        <div class="content-wrapper">
            <div class="summary-cards">
                <div class="card">
                    <h3><i class="fas fa-building"></i> 厂房购置预算</h3>
                    <div class="value">¥8,200,000</div>
                    <div class="sub-value">占总预算 51.9%</div>
                </div>
                <div class="card">
                    <h3><i class="fas fa-tools"></i> 设备采购预算</h3>
                    <div class="value">¥4,500,000</div>
                    <div class="sub-value">占总预算 28.5%</div>
                </div>
                <div class="card">
                    <h3><i class="fas fa-paint-roller"></i> 装修工程预算</h3>
                    <div class="value">¥1,500,000</div>
                    <div class="sub-value">占总预算 9.5%</div>
                </div>
                <div class="card">
                    <h3><i class="fas fa-file-contract"></i> GMP认证预算</h3>
                    <div class="value">¥1,000,000</div>
                    <div class="sub-value">占总预算 6.3%</div>
                </div>
            </div>
            
            <div class="chart-container">
                <div class="chart-header">
                    <h2><i class="fas fa-chart-pie"></i> 费用类别分布</h2>
                </div>
                <div class="chart-wrapper">
                    <canvas id="costPieChart"></canvas>
                </div>
            </div>
            
            <div class="chart-container">
                <div class="chart-header">
                    <h2><i class="fas fa-chart-bar"></i> 分阶段费用预算</h2>
                </div>
                <div class="chart-wrapper">
                    <canvas id="phaseBarChart"></canvas>
                </div>
            </div>
            
            <div style="flex: 100%;">
                <div class="chart-header">
                    <h2><i class="fas fa-table"></i> 详细费用预算表</h2>
                </div>
                <table class="budget-table">
                    <thead>
                        <tr>
                            <th>费用类别</th>
                            <th>费用项目</th>
                            <th class="amount">预算金额</th>
                            <th class="percent">占比</th>
                            <th class="progress-cell">预算分配</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td rowspan="4" class="category">厂房购置</td>
                            <td class="sub-category">厂房购买费</td>
                            <td class="amount">¥7,500,000</td>
                            <td class="percent">47.5%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 95%; background: #4CAF50;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="sub-category">法律与税费</td>
                            <td class="amount">¥700,000</td>
                            <td class="percent">4.4%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 85%; background: #4CAF50;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="5" style="background: #f8f9fa; height: 10px;"></td>
                        </tr>
                        
                        <tr>
                            <td rowspan="4" class="category">设备采购</td>
                            <td class="sub-category">生产设备</td>
                            <td class="amount">¥3,200,000</td>
                            <td class="percent">20.3%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 70%; background: #2196F3;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="sub-category">净化空调系统</td>
                            <td class="amount">¥1,800,000</td>
                            <td class="percent">11.4%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 65%; background: #2196F3;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="sub-category">检验设备</td>
                            <td class="amount">¥1,300,000</td>
                            <td class="percent">8.2%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 60%; background: #2196F3;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="5" style="background: #f8f9fa; height: 10px;"></td>
                        </tr>
                        
                        <tr>
                            <td rowspan="3" class="category">装修工程</td>
                            <td class="sub-category">装修工程费</td>
                            <td class="amount">¥1,200,000</td>
                            <td class="percent">7.6%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 80%; background: #FF9800;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="sub-category">净化工程</td>
                            <td class="amount">¥1,800,000</td>
                            <td class="percent">11.4%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 75%; background: #FF9800;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="5" style="background: #f8f9fa; height: 10px;"></td>
                        </tr>
                        
                        <tr>
                            <td rowspan="4" class="category">GMP认证筹备</td>
                            <td class="sub-category">GMP文件体系</td>
                            <td class="amount">¥300,000</td>
                            <td class="percent">1.9%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 50%; background: #9C27B0;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="sub-category">人员培训</td>
                            <td class="amount">¥200,000</td>
                            <td class="percent">1.3%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 45%; background: #9C27B0;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="sub-category">验证活动</td>
                            <td class="amount">¥500,000</td>
                            <td class="percent">3.2%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 55%; background: #9C27B0;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="5" style="background: #f8f9fa; height: 10px;"></td>
                        </tr>
                        
                        <tr>
                            <td class="category">其他费用</td>
                            <td class="sub-category">项目管理费</td>
                            <td class="amount">¥600,000</td>
                            <td class="percent">3.8%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 65%; background: #F44336;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="category">预备费用</td>
                            <td class="sub-category">不可预见费</td>
                            <td class="amount">¥1,200,000</td>
                            <td class="percent">7.6%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 30%; background: #607D8B;"></div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr style="background: #e8f5e9; font-weight: 600;">
                            <td colspan="2">总计</td>
                            <td class="amount">¥15,800,000</td>
                            <td class="percent">100%</td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: 65%; background: #2c7a5a;"></div>
                                </div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            
            <div class="notes">
                <h3><i class="fas fa-lightbulb"></i> 预算管理说明</h3>
                <p>本预算基于香港济岁堂中药厂有限公司项目建设需求制定，包含从厂房购买到GMP认证的全过程费用规划。</p>
                <ul>
                    <li><strong>厂房购置</strong>：包含厂房购买费和相关法律税费，占总预算51.9%</li>
                    <li><strong>设备采购</strong>：包含生产设备、净化空调系统和检验设备，占总预算39.9%</li>
                    <li><strong>GMP认证筹备</strong>：包含文件体系建立、人员培训和验证活动，占总预算6.4%</li>
                    <li><strong>预备费用</strong>：按总预算7.6%预留，用于应对不可预见的费用增加</li>
                    <li><strong>预算控制原则</strong>：厂房和设备等固定资产投入占比超过80%，确保生产基础质量</li>
                </ul>
            </div>
        </div>
        
        <footer>
            <p>香港济岁堂中药厂有限公司 | 中成药GMP建设项目费用预算 | 基于精细化管理原则制定</p>
            <p>注：此费用预算图表展示项目从启动到获得GMP证书的全过程费用规划，实际执行中可能根据市场情况调整</p>
        </footer>
    </div>

    <script>
        // 初始化费用饼图
        document.addEventListener('DOMContentLoaded', function() {
            // 费用类别饼图
            const pieCtx = document.getElementById('costPieChart').getContext('2d');
            const pieChart = new Chart(pieCtx, {
                type: 'doughnut',
                data: {
                    labels: ['厂房购置', '设备采购', '装修工程', 'GMP认证', '其他费用', '预备费用'],
                    datasets: [{
                        data: [820, 450, 150, 100, 60, 120],
                        backgroundColor: [
                            'rgba(76, 175, 80, 0.8)',
                            'rgba(33, 150, 243, 0.8)',
                            'rgba(255, 152, 0, 0.8)',
                            'rgba(156, 39, 176, 0.8)',
                            'rgba(244, 67, 54, 0.8)',
                            'rgba(96, 125, 139, 0.8)'
                        ],
                        borderColor: [
                            'rgba(76, 175, 80, 1)',
                            'rgba(33, 150, 243, 1)',
                            'rgba(255, 152, 0, 1)',
                            'rgba(156, 39, 176, 1)',
                            'rgba(244, 67, 54, 1)',
                            'rgba(96, 125, 139, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.raw;
                                    const total = context.chart.data.datasets[0].data.reduce((a, b) => a + b, 0);
                                    const percentage = Math.round((value / total) * 100);
                                    return `${label}: ¥${value}万 (${percentage}%)`;
                                }
                            }
                        }
                    },
                    cutout: '50%'
                }
            });
            
            // 分阶段费用柱状图
            const barCtx = document.getElementById('phaseBarChart').getContext('2d');
            const barChart = new Chart(barCtx, {
                type: 'bar',
                data: {
                    labels: ['厂房购置', '设计装修', '设备安装', 'GMP筹备', '认证阶段'],
                    datasets: [{
                        label: '预算金额 (万元)',
                        data: [820, 300, 450, 100, 80],
                        backgroundColor: 'rgba(44, 122, 90, 0.7)',
                        borderColor: 'rgba(44, 122, 90, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: '预算金额 (万元)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `预算: ¥${context.raw}万`;
                                }
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>